### Гайд по инструментам разработчика

В целом следующие горячие клавиши/названия +- совпадают во всех браузерах, посему надеюсь у вас не возникнет сложности с применением данных методов на своих браузерах.
*Ну а автор будет юзать [**Mozilla Firefox Developer Edition**](https://www.mozilla.org/ru/firefox/developer/) на Windows10*

---

### Панель инструментов разработчика

При нажатии клавиши F12 У вас откроется *Панель инструментов разработчика*. Также быстро его можно открыть нажав правой кнопкой мыши на странице, и выбрав пункт <mark>"Inspect Element"</mark>.

![](devtools/img/dev_tools_window.png)

От себя предлагаю сразу перенастроить инструмент, чтобы он открывался в отдельном окне, а не в этом-же, чтобы было удобнее управляться с интерфейсом.

---

### Панель сети

В этом окне, помимо CSS и HTML можно отслеживать **сеть** (Network) - чем мы будем пользоваться чаще всего. Именно в нём мы будем искать наличие API, важные ссылки и т.п. (нужно для первого метода парсинга через библиотеку requests)

![](devtools/img/network_window.png)

В верхней части окна соответственно вы можете видеть:

- Очистка записей
- Фильтр URL по введённой подстроке
- Пауза/запуск логирования
- Поиск по логам
- Настройка блокировщика
- Фильтр файлов по типу (отображать лишь HTML/CSS/... )
- и т.п.

Самым важным для нас будут поиск по логам, фильтр URL по подстроке и фильтр файлов по типу.

---

# Пример поиска API

В ситуациях, когда вы замечаете, что некоторые данные на сайте подгружаются динамически, вы можете понять, что сервер и браузер связаны непосредственно в данный момент, а следовательно всё "общение" браузера и сервера могут быть найдены в панели Network в инструментах разработчика.

К примеру рассмотрим механизм автодополнения на некотором "неизвестном сайте" в форме ввода запроса для поиска:

- Зайдём на интересующий нас сайт
- Запустим логирование соединений в инструмментах разработчика
- Начнём вводить наш запрос (не вводя его полностью)
- Отслеживаем возникающие соединения нашего браузера с сервером

*Чаще всего важные текстовые данные передаются в форматах JSON. Вы либо можете их найти в колонке Type, либо изначально отфильтровать все файлы нажав кнопку XHR (XMLHttpRequest)*

![](devtools/img/search_json.png)

Теперь поочерёдно нажимая по каждому из запросов в списке на панели *Response* мы можем отслеживать что было возвращено нам сервером. Нажав правой кнопкой мыши по конкретноу запросу его можно открыть в новой вкладке или же скопировать URL.

![](devtools/img/response_window.png)

---
---
---

# Параметры в URL

GET-параметры в URL (посланные с целью получить информацию), разделяются посредством амперсанда <mark>&</mark>, а начинаются они после знака <mark>?</mark>
(Пример : https://www.google.com/complete/search?q=%D0%9A%D1%80%D0%B8&cp=3&client=gws-wiz&xssi=t&gs_ri=gws-wiz&hl=ru&authuser=0&psi=GS-6YIW_MMfKrgTF-o-ADA.1622814489988&dpr=1)

Например в данном URL были посланы соответственно следующие параметры:
- q = %D0%9A%D1%80%D0%B8
- cp = 3
- client = gws-wiz
- xssi = t
- gs_ri = gws-wiz
- hl=ru
- authuser = 0
- psi = GS-6YIW_MMfKrgTF-o-ADA.1622814489988
- dpr = 1

Наша основная задача в случае использования API - подделка запросов, чтобы сервер воспринимал их как свои и спокойно отвечал нам на запрос. Знать значение и назначение всех полей не всегда обязательно. В поле <mark>q</mark> вы можете наблюдать "зашифрованное" (нет) в UTF-8 слово "Кри", которое мы вводили ранне. В нашем случае достаточно будет заменить запрос в поле q (причём без обязательной записи в UTF-8 коде), чтобы сервер вернул нам автодополнение на другое слово.

Примера ради попробуем не изменяя остальных параметров найти автодополнение у Google на фразу "капуста", и взглянем на [вывод](https://www.google.com/complete/search?q=капуста&cp=3&client=gws-wiz&xssi=t&gs_ri=gws-wiz&hl=ru&authuser=0&psi=GS-6YIW_MMfKrgTF-o-ADA.1622814489988&dpr=1).

Вот как выглядит вывод на сайте
![](devtools/img/query_by_browser.png)

И вот как он выглядит, если делать запрос "вручную"
![](devtools/img/query_by_url.png)
